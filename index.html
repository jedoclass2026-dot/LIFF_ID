<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正在跳轉報名表...</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
    <div style="text-align: center; margin-top: 50px; font-family: sans-serif;">
        <p>正在驗證身分，請稍候...</p>
    </div>

    <script>
        async function main() {
            // 【修改處 1】：填入你剛剛在 LINE Developers 取得的 LIFF ID
            const myLiffId = "2009197326-DFX4AiaR"; 

            await liff.init({ liffId: myLiffId });

            if (!liff.isLoggedIn()) {
                // 如果學員沒登入，引導至 LINE 登入畫面
                liff.login();
            } else {
                // 取得學員的個人檔案
                const profile = await liff.getProfile();
                const userId = profile.userId;
                
                // 【修改處 2】：填入你 Google 表單的「預填連結」
                // 注意：最後面要留著 entry.xxxxxxx= ，不要接剛才測試的 REPLACE_ME
                const googleFormUrl = "https://docs.google.com/forms/d/e/.../viewform?usp=pp_url&entry.2120109763=";
                
                // 自動跳轉：連結 + User ID
                window.location.href = googleFormUrl + userId;
            }
        }
        main();
    </script>
</body>
</html>
